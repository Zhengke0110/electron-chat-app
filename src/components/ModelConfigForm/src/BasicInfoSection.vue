<template>
    <div class="space-y-4">
        <h3 class="text-sm font-semibold text-gray-700 border-b pb-2">ğŸ“ åŸºç¡€ä¿¡æ¯</h3>

        <!-- é…ç½®åç§° -->
        <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">
                é…ç½®åç§° <span class="text-red-500">*</span>
            </label>
            <input :value="modelValue.name" @input="$emit('update:name', ($event.target as HTMLInputElement).value)"
                type="text" placeholder="ä¾‹å¦‚: æˆ‘çš„ DeepSeek"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"
                required />
        </div>

        <!-- API Key -->
        <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">
                API Key <span class="text-red-500">*</span>
            </label>
            <input :value="modelValue.apiKey" @input="$emit('update:apiKey', ($event.target as HTMLInputElement).value)"
                type="password" placeholder="sk-..."
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none font-mono text-sm"
                required />
            <p class="text-xs text-gray-500">æ‚¨çš„ API Key å°†è¢«å®‰å…¨åŠ å¯†å­˜å‚¨</p>
        </div>

        <!-- çŠ¶æ€è®¾ç½® -->
        <div class="space-y-3 pt-2">
            <label class="flex items-center gap-2 cursor-pointer">
                <input :checked="modelValue.isActive"
                    @change="$emit('update:isActive', ($event.target as HTMLInputElement).checked)" type="checkbox"
                    class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" />
                <span class="text-sm text-gray-700">å¯ç”¨æ­¤é…ç½®</span>
            </label>

            <label class="flex items-center gap-2 cursor-pointer">
                <input :checked="modelValue.isDefault"
                    @change="$emit('update:isDefault', ($event.target as HTMLInputElement).checked)" type="checkbox"
                    class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" />
                <span class="text-sm text-gray-700">è®¾ä¸ºé»˜è®¤é…ç½®</span>
            </label>
        </div>
    </div>
</template>

<script setup lang="ts">
interface BasicInfoProps {
    modelValue: {
        name: string;
        apiKey: string;
        isActive: boolean;
        isDefault: boolean;
    };
}

interface BasicInfoEmits {
    (e: 'update:name', value: string): void;
    (e: 'update:apiKey', value: string): void;
    (e: 'update:isActive', value: boolean): void;
    (e: 'update:isDefault', value: boolean): void;
}

defineProps<BasicInfoProps>();
defineEmits<BasicInfoEmits>();
</script>
